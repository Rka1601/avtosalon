{% extends 'catalog/base.html' %}
{% load static %}

{% block content %}

<div class="hero-section text-dark py-5 mb-5 rounded-3">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h1 class="display-4 fw-bold">–í–ï–†–¢–ò–ö–ê–õ–¨-–ê–í–¢–û</h1>
                <p class="lead fs-5">–ü—Ä–æ–¥–∞–∂–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å –ø—Ä–æ–±–µ–≥–æ–º</p>
                <p class="fs-6">–ë–æ–ª–µ–µ 10 –ª–µ—Ç –Ω–∞ —Ä—ã–Ω–∫–µ. –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞. Trade-in. –ö—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏–µ.</p>
                <div class="mt-4">
                    <a href="{% url 'car_list' %}" class="btn btn-dark btn-lg me-3 fw-bold">–°–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥</a>
                    <a href="#contacts" class="btn btn-outline-dark btn-lg fw-bold">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                </div>
            </div>
                <div class="col-md-6 text-center">
                    
                </div>
        </div>
    </div>
</div>


<div class="container mb-5">
    <h2 class="text-center mb-4 fw-bold">–ë—ã—Å—Ç—Ä—ã–π –ø–æ–¥–±–æ—Ä</h2>
    <div class="row g-3">
        {% for filter in quick_filters %}
        <div class="col-lg-3 col-md-4 col-6">
            <div class="card quick-filter-card text-center h-100">
                <div class="card-body">
                    <h5 class="card-title fw-bold">{{ filter.title }}</h5>
                    <p class="card-text small">{{ filter.description }}</p>
                    <a href="{{ filter.url }}" class="btn btn-primary-custom btn-sm fw-bold">
                        {{ filter.button_text }}
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>


<div class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-4">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏</h2>
        <div class="row">
            {% for car in random_cars %}
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    {% with car.photos.all as photos %}
                        {% if photos %}
                            <img src="{{ photos.0.image.url }}" class="card-img-top" alt="{{ car.brand }} {{ car.model }}" style="height: 200px; object-fit: contain;">
                        {% else %}
                            <div class="card-img-top bg-secondary text-white d-flex align-items-center justify-content-center" style="height: 200px;">
                                <span>–ù–µ—Ç —Ñ–æ—Ç–æ</span>
                            </div>
                        {% endif %}
                    {% endwith %}
                    <div class="card-body">
                        <h5 class="card-title fw-bold">{{ car.brand }} {{ car.model }}</h5>
                        <p class="card-text">{{ car.year }} –≥–æ–¥ ‚Ä¢ {{ car.mileage }} –∫–º</p>
                        <p class="card-price">{{ car.price }} ‚ÇΩ</p>
                    </div>
                    <div class="card-footer">
                        <a href="{% url 'car_detail' car.id %}" class="btn btn-primary-custom btn-sm fw-bold">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>


<div class="container py-5" id="contacts">
    <h2 class="text-center mb-4">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">–í–ï–†–¢–ò–ö–ê–õ–¨-A–í–¢–û</h5>
                    <p>üìç –≥. –ë–∞—Ä–Ω–∞—É–ª</p>
                    <p>üìû {{ showroom_phone }}</p>
                    <p>üïí –ï–∂–µ–¥–Ω–µ–≤–Ω–æ 9:00-17:00</p>
                    
                    <div class="mt-4">
                        <a href="https://t.me/rka_avto" class="btn btn-telegram me-2 mb-2" target="_blank">
                            <i class="fab fa-telegram"></i>
                            <span>Telegram</span>
                        </a>
                        <a href="https://wa.me/79991234567" class="btn btn-whatsapp mb-2" target="_blank">
                            <i class="fab fa-whatsapp"></i>
                            <span>WhatsApp</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">–ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏</h5>
                        <iframe 
                            src="https://yandex.ru/map-widget/v1/?ll=83.765%2C53.355&z=15&pt=83.765,53.355,pm2grl" 
                            width="100%" 
                            height="300" 
                            frameborder="0" 
                            style="border-radius: 8px;"
                            allowfullscreen="true">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.hero-section {
    margin-top: 20px;
}

.quick-filter-card {
    padding: 15px;
    border-radius: 15px;
}

.quick-filter-card .card-body {
    padding: 1rem;
}


@media (max-width: 576px) {
    .hero-section .btn {
        width: 100%;
        margin-bottom: 10px;
    }
    
    .quick-filter-card {
        margin-bottom: 15px;
    }
}
</style>
{% endblock %}